# 用户组

简儿为不同级别的用户定义了用户组，并且自成一套用户组管理机制。认识用户组，了解您在不同的用户组中所拥有的权力与地位。

## 权限层级概览

```
ROOT_User （最高权限，只读，不可被修改）
    ├── Super_User （超级用户，可管理其他用户权限）
    │       └── Manage_User （管理用户，可管理群聊和查看状态）
    │               └── 普通用户
```

## Manage_User

**管理用户组**。在原生简儿中，如果您是 `Manage_User` 成员，在 QQ 群中发送 `-帮助`，可以看到以下消息：

```
管理我们的简儿
————————————————————
你拥有管理简儿的权限。若要查看普通帮助，请@简儿
    1. -让我访问 —> 检索拥有权限的用户
    2. -注销 —> 删除所有用户的上下文
    3. -修改 (hh:mm) (内容，必填) —> 改变定时消息时间与内容
    4. -感知 —> 查看运行状态
    5. -核验 (QQ号，必填) —> 检索QQ账号信息
    6. -重启 —> 关闭所有线程和进程，关闭简儿。然后重新启动简儿
    7. -禁言 (@QQ+空格+时间(以秒为单位)，必填) —> 禁言用户一段时间
    8. -解禁 (@QQ，必填) —> 解除该用户禁言
    9. -踢出 (@QQ，必填) —> 将该用户踢出聊群
    10. 撤回 (引用一条消息) —> 撤回该消息
    11. -添加黑名单 +空格 + 群号 —> 将该群加入群发黑名单
    12. -删除黑名单 +空格 + 群号 —> 将该群移除群发黑名单
    13. -列出黑名单 —> 列出黑名单中的所有群
    你的每一步操作，与用户息息相关。
```

**权限总结：**

| 能力 | 支持 |
| --- | --- |
| 监视简儿运行状态 | ✅ |
| 修改部分配置（定时消息、清空上下文等） | ✅ |
| 群管操作（撤回、禁言、移出群聊等） | ✅ |
| 使用 `runcommand` 执行系统命令 | ✅ |
| 检索有权限的用户 | ✅ |
| 编辑其他有权限用户的配置 | ❌ |

## Super_User

**超级用户组**。在原生简儿中，如果您是 `Super_User` 成员，在 QQ 群中发送 `-帮助`，你会发现你比 `Manage_User` 多出以下能力：

```
    2. -管理 M (QQ号，必填) —> 为用户添加 Manage_User 权限
    3. -管理 S (QQ号，必填) —> 为用户添加 Super_User 权限
    4. -删除管理 (QQ号，必填) —> 删除这个用户的全部权限
```

`Super_User` 除了拥有与 `Manage_User` **完全相同的权力**之外，还可以：

- ✅ 编辑其他有权限的用户
- ✅ 为其他人添加或删除 `Manage_User` 或 `Super_User` 权限
- ✅ 使用 `runcommand` 执行命令

## ROOT_User

**根用户组**，是权限体系中的最高等级。

::: warning 重要
`ROOT_User` 只能在配置机器人时设置（通过 `config.json` 中的 `Others.ROOT_User` 字段），无法在 QQ 群聊中被添加、修改或删除。这是为了保护机器人"主人"身份的绝对安全。
:::

`ROOT_User` 拥有和 `Super_User` 完全一样的权力，但被设计为 **只读**：

- 任何用户无论是否具有权限，都**无法编辑** `ROOT_User`
- 相当于写死在了本地配置文件中
- **强烈建议将你自己的 QQ 号设置为 `ROOT_User`**

## 存储方式

用户组的配置信息以 `.ini` 或 `.Sr` 类型的文件保存在本地：

| 文件 | 用途 |
| --- | --- |
| `Manage_User.ini` | 存储 Manage_User 权限的用户 QQ 号 |
| `Super_User.ini` | 存储 Super_User 权限的用户 QQ 号 |
| `config.json` 中的 `ROOT_User` | 存储 ROOT_User 权限的用户 QQ 号 |

::: danger 注意
QQ 机器人每次启动都会读取配置文件的内容。当有权限的用户通过 QQ 群更改用户组时，更改也会被**立刻写入本地**文件。因此**请勿删除任何配置文件**。
:::